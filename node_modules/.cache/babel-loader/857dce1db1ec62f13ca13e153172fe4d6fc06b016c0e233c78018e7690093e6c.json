{"ast":null,"code":"import { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport useGerenciadorProdutos from \"./useProduto\";\r\n\r\nconst TelaProdutoDetalhes = () => {\r\n  // Pega o 'id' da URL (ex: /detalhes/123)\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const {\r\n    listaProdutos,\r\n    alterarProduto\r\n  } = useGerenciadorProdutos();\r\n\r\n  // Estados locais para os campos do formulário de edição\r\n  const [nome, setNome] = useState(\"\");\r\n  const [valor, setValor] = useState(\"\");\r\n\r\n  // useEffect para carregar os dados do produto quando o componente montar\r\n  useEffect(() => {\r\n    const produtoParaEditar = listaProdutos.find(p => p.id.toString() === id);\r\n\r\n    if (produtoParaEditar) {\r\n      setNome(produtoParaEditar.nome);\r\n      setValor(produtoParaEditar.valor);\r\n    } else {\r\n      // Se não encontrar o produto, volta para a página inicial\r\n      alert(\"Produto não encontrado!\");\r\n      navigate(\"/\");\r\n    }\r\n  }, [id, listaProdutos, navigate]);\r\n\r\n  const handleSalvar = () => {\r\n    if (!nome || !valor) {\r\n      alert(\"Nome e valor são obrigatórios.\");\r\n      return;\r\n    }\r\n\r\n    const confirmou = window.confirm(\"Deseja salvar as alterações neste produto?\");\r\n    if (confirmou) {\r\n      const produtoEditado = {\r\n        id,\r\n        nome,\r\n        valor\r\n      };\r\n      alterarProduto(produtoEditado);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h1 style={{ textAlign: \"center\" }} tabIndex={1}>\r\n        Editar Produto\r\n      </h1>\r\n\r\n      <div className=\"box\">\r\n        <p>Editando produto ID: {id}</p>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Nome do produto\"\r\n          value={nome}\r\n          onChange={(e) => setNome(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"number\"\r\n          placeholder=\"Valor\"\r\n          value={valor}\r\n          onChange={(e) => setValor(e.target.value)}\r\n        />\r\n        <div className=\"grid-botoes\">\r\n          <button className=\"botao-salvar\" onClick={handleSalvar}>Salvar Alterações</button>\r\n          <button className=\"botao-cancelar\" onClick={() => navigate(\"/\")}>Cancelar</button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TelaProdutoDetalhes;","map":{"version":3,"names":[],"sources":["C:/ARTUR/P4/WEB/produto-react/src/TelaProdutoDetalhes.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport useGerenciadorProdutos from \"./useProduto\";\r\n\r\nconst TelaProdutoDetalhes = () => {\r\n  // Pega o 'id' da URL (ex: /detalhes/123)\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const {\r\n    listaProdutos,\r\n    alterarProduto\r\n  } = useGerenciadorProdutos();\r\n\r\n  // Estados locais para os campos do formulário de edição\r\n  const [nome, setNome] = useState(\"\");\r\n  const [valor, setValor] = useState(\"\");\r\n\r\n  // useEffect para carregar os dados do produto quando o componente montar\r\n  useEffect(() => {\r\n    const produtoParaEditar = listaProdutos.find(p => p.id.toString() === id);\r\n\r\n    if (produtoParaEditar) {\r\n      setNome(produtoParaEditar.nome);\r\n      setValor(produtoParaEditar.valor);\r\n    } else {\r\n      // Se não encontrar o produto, volta para a página inicial\r\n      alert(\"Produto não encontrado!\");\r\n      navigate(\"/\");\r\n    }\r\n  }, [id, listaProdutos, navigate]);\r\n\r\n  const handleSalvar = () => {\r\n    if (!nome || !valor) {\r\n      alert(\"Nome e valor são obrigatórios.\");\r\n      return;\r\n    }\r\n\r\n    const confirmou = window.confirm(\"Deseja salvar as alterações neste produto?\");\r\n    if (confirmou) {\r\n      const produtoEditado = {\r\n        id,\r\n        nome,\r\n        valor\r\n      };\r\n      alterarProduto(produtoEditado);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h1 style={{ textAlign: \"center\" }} tabIndex={1}>\r\n        Editar Produto\r\n      </h1>\r\n\r\n      <div className=\"box\">\r\n        <p>Editando produto ID: {id}</p>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Nome do produto\"\r\n          value={nome}\r\n          onChange={(e) => setNome(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"number\"\r\n          placeholder=\"Valor\"\r\n          value={valor}\r\n          onChange={(e) => setValor(e.target.value)}\r\n        />\r\n        <div className=\"grid-botoes\">\r\n          <button className=\"botao-salvar\" onClick={handleSalvar}>Salvar Alterações</button>\r\n          <button className=\"botao-cancelar\" onClick={() => navigate(\"/\")}>Cancelar</button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TelaProdutoDetalhes;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}